<html>
  <head>
    <title>ESPFramework Configuration</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="bootstrap.min.css">
    <script src="jquery.min.js"></script>
    <script src="bootstrap.min.js"></script>
  </head>
  <body>
    <!-- NAVBAR -->
    <nav class="navbar navbar-inverse">
      <div class="container-fluid">
        <div class="navbar-header">
          <a class="navbar-brand" href="/">ESPFrame</a>
        </div>
        <ul class="nav navbar-nav">
          <li><a href="/">Home</a></li>
          <li class="dropdown active">
            <a class="dropdown-toggle" data-toggle="dropdown" href="#">Configuration
            <span class="caret"></span></a>
            <ul class="dropdown-menu">
              <li><a href="/config#system">System</a></li>
              <li><a href="/config#network">Network</a></li>
              <li><a href="/config#mqtt">MQTT</a></li>
              <li><a href="/config#rest">REST Client</a></li>
              <li><a href="/config#reset">Reset/Upgrade</a></li>
            </ul>
          </li>
        </ul>
        <form class="navbar-form navbar-left" action="restart" method="POST">
          <input type="hidden" name="action" value="restart">
          <button type="submit" value="Restart Device" onclick="return confirm('Restart device??');" class="btn btn-danger">Restart</button>
        </form>
      </div>
    </nav>

    <!-- MAIN BODY -->
    <div class="container-fluid">
      <div class="col-lg-6 col-lg-offset-3">
        <div class="panel panel-default">
          <div class="panel-heading">
            <ul class="nav nav-tabs">
              <li class="active"><a data-toggle="tab" href="#system">System</a></li>
              <li><a data-toggle="tab" href="#network">Network</a></li>
              <li><a data-toggle="tab" href="#mqtt">MQTT</a></li>
              <li><a data-toggle="tab" href="#rest">Rest Client</a></li>
              <li><a data-toggle="tab" href="#reset">Reset/Upgrade</a></li>
              <!-- <li><a href="#">Menu 3</a></li> -->
            </ul>
          </div>
          <div class="container-fluid"> 
            <div class="tab-content">
              <!-- SYSTEM CONFIGURATION -->
              <div id="system" class="tab-pane fade in active">
                <h3>System Configuration</h3>
                <form action="/save_config" method="POST">
                  <input type="hidden" name="config" value="system">
                  <div class="form-group">
                    <label for="system_name">System Name</label>
                    <input type="text" class="form-control" id="system_name" name="system_name" value="" placeholder="SYSTEM NAME">
                  </div>
                  <button type="submit" class="btn btn-default">Save</button>
                </form>
              </div>
              <!-- NETWORK CONFIGURATION -->
              <div id="network" class="tab-pane fade">
                <h3>Network Configuration</h3>
                <form action="/save_config" method="POST">
                  <input type="hidden" name="config" value="network">
                  <div class="form-group">
                    <label class="radio-inline" for="wifi_client"><input type="radio" value="true" name="wifi_mode" id="wifi_client" %WIFI_CLIENT% >Wifi Client</label>
                    <label class="radio-inline" for="wifi_ap"><input type="radio" value="false" name="wifi_mode" id="wifi_ap" %WIFI_AP%>Wifi Acces Point</label>
                  </div>
                  <div class="form-group">
                    <label for="wifi_ssid">Wifi SSID:</label>
                    <input type="text" name="wifi_ssid" id="wifi_ssid" class="form-control" required value="%WIFI_SSID%">
                  </div>
                  <div class="form-group">
                    <label for="wifi_password">Wifi Password:</label>
                    <input type="text" name="wifi_password" id="wifi_password" required value="%WIFI_PASSWORD%" minlength="8" class="form-control">
                  </div>
                  <button type="submit" onclick="return confirm('Save configuration and restart device?');" class="btn btn-default">Save</button>
                </form>
              </div>
              <!-- MQTT CONFIGURATION -->
              <div id="mqtt" class="tab-pane fade">
                <h3>MQTT Client Configuration</h3>
                <form action="/save_config" method="POST">
                  <input type="hidden" name="config" value="mqtt">
                  <div class="form-group">
                    <div class="checkbox">
                      <label><input type="checkbox" value="true" name="mqtt">Enable</label>
                    </div>
                  </div>
                  <div class="form-group">
                    <label for="mqtt_host">MQTT Broker Host:</label>
                    <input type="text" name="mqtt_host" id="mqtt_host" value="%MQTT_HOST%" class="form-control">
                  </div>
                  <div class="form-group">
                    <label for="mqtt_user">MQTT User Name:</label>
                    <input type="text" name="mqtt_user" id="mqtt_user" value="%MQTT_USER%" class="form-control">
                  </div>
                  <div class="form-group">
                    <label for="mqtt_password">MQTT Password:</label>
                    <input type="text" name="mqtt_password" id="mqtt_password" value="%MQTT_PASSWORD%" class="form-control">
                  </div>
                  <div class="form-group">
                    <label for="mqtt_sub_topic">MQTT Subscribe Topic:</label>
                    <input type="text" name="mqtt_sub_topic" id="mqtt_sub_topic" value="%MQTT_SUB_TOPIC%" class="form-control">
                  </div>
                  <div class="form-group">
                    <label for="mqtt_pub_topic">MQTT Publish Topic:</label>
                    <input type="text" name="mqtt_pub_topic" id="mqtt_pub_topic" value="%MQTT_PUB_TOPIC%" class="form-control">
                  </div>
                  <div class="form-group">
                    <label for="mqtt_clientid">MQTT Client ID:</label>
                    <input type="text" name="mqtt_clientid" id="mqtt_clientid" value="%MQTT_CLIENTID%" disabled class="form-control">
                  </div>
                  <button type="submit" class="btn btn-default">Save</button>
                </form>
              </div>
              <!-- REST API CONFIGURATION -->
              <div id="rest" class="tab-pane fade">
                <h3>REST API Configuration</h3>
                <form action="/save_config" method="POST">
                  <input type="hidden" name="config" value="rest">
                  <div class="form-group">
                    <label for="web_updater_url">Host URL:</label>
                    <input type="text" name="web_updater_url" id="web_updater_url" value="%WEB_UPDATER_URL%" class="form-control">
                  </div>
                  <div class="form-group">
                    <label for="web_updater_token">Host Token:</label>
                    <input type="text" name="web_updater_token" id="web_updater_token" value="%WEB_UPDATER_TOKEN%" class="form-control">
                  </div>
                  <button type="submit" class="btn btn-default">Save</button>
                </form>
              </div>
              <!-- RESET CONFIGURATION & UPGRADE FIRMWARE -->
              <div id="reset" class="tab-pane fade">
                <h3>Reset / Upgrade System</h3>
                <form action="/reset" method="POST">
                  <input type="hidden" name="action" value="reset">
                  <button type="submit" value="Restart Device" onclick="return confirm('Restart device??');" class="btn btn-danger">Reset Configuration</button>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  </body>
</html>

